<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Siddhivinayak Digital — Login</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f2f6ff;margin:0;height:100vh;display:flex;align-items:center;justify-content:center;color:#1a2a44}
    .login-box{width:360px;background:#fff;padding:26px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center}
    .login-box h2{margin:0 0 16px;color:#003366}
    input{width:100%;padding:12px;margin:8px 0;border:1px solid #d7e2ff;border-radius:8px;font-size:15px}
    button{width:100%;padding:12px;margin-top:12px;border-radius:8px;border:0;background:#0073ff;color:#fff;font-weight:700;cursor:pointer}
    .demo{background:#444;margin-top:8px}
    .error{color:#b00020;margin-top:10px;display:none}
    .small{font-size:13px;color:#666;margin-top:10px}
  </style>
</head>
<body>
  <div class="login-box">
    <h2>Siddhivinayak Digital</h2>

    <form id="loginForm">
      <input id="username" type="text" placeholder="Username" required autocomplete="off">
      <input id="password" type="password" placeholder="Password" required autocomplete="off">
      <button type="submit">Login</button>
    </form>

    <button id="demoBtn" class="demo">Login Demo (admin)</button>
    <div id="err" class="error"></div>
    <div class="small">If login succeeds you will be sent to the internal site (pages/home.html).</div>
  </div>

  <script>
    // Hardcoded users — works on GitHub Pages (no external fetch required)
    const users = [
      { username: "admin", password: "admin123", role: "admin", name: "Administrator" },
      { username: "staff", password: "staff123", role: "user", name: "Staff Member" }
    ];

    function showError(msg){
      const el = document.getElementById('err');
      el.style.display = 'block';
      el.textContent = msg;
    }

    function clearError(){
      const el = document.getElementById('err');
      el.style.display = 'none';
      el.textContent = '';
    }

    document.getElementById('loginForm').addEventListener('submit', function(ev){
      ev.preventDefault();
      clearError();
      const u = document.getElementById('username').value.trim();
      const p = document.getElementById('password').value;

      const found = users.find(x => x.username === u && x.password === p);
      if(!found){
        showError('Invalid username or password');
        return;
      }

      // save session and redirect to internal home
      localStorage.setItem('loggedUser', JSON.stringify({ username: found.username, name: found.name, role: found.role }));
      // redirect to internal page (ensure the path exists in your repo)
      window.location.href = 'pages/home.html';
    });

    document.getElementById('demoBtn').addEventListener('click', function(){
      document.getElementById('username').value = 'admin';
      document.getElementById('password').value = 'admin123';
      document.getElementById('loginForm').dispatchEvent(new Event('submit', { cancelable: true }));
    });

    // quick helpful check: when the page loads, log the available files (for debugging only)
    console.log('Login page loaded — ready');
  </script>
</body>
</html>
