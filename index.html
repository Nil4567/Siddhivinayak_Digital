
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Super Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 antialiased">

  <div class="flex h-screen bg-gray-100 font-sans">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-800 text-white flex-shrink-0">
      <div class="flex items-center justify-center h-20 border-b border-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
        <h1 class="text-2xl font-bold">Admin Panel</h1>
      </div>
      <nav class="mt-8">
        <a href="#" class="flex items-center px-6 py-3 text-gray-400 hover:bg-gray-700 hover:text-white cursor-pointer transition-colors duration-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          <span>Dashboard</span>
        </a>
        <a href="#" class="bg-gray-700 flex items-center px-6 py-3 text-white cursor-pointer transition-colors duration-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-3-5.197M15 21a9 9 0 00-9-9" />
          </svg>
          <span>Users</span>
        </a>
        <a href="#" class="flex items-center px-6 py-3 text-gray-400 hover:bg-gray-700 hover:text-white cursor-pointer transition-colors duration-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span>Roles & Permissions</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col overflow-hidden">
      <header class="bg-white shadow-sm z-10">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8">
          <h1 class="text-2xl font-bold text-gray-800 capitalize">Users</h1>
        </div>
      </header>
      <div class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 sm:p-6 lg:p-8">
        <div class="bg-white rounded-lg shadow-md">
          <div class="p-6 border-b border-gray-200 flex justify-between items-center">
            <h2 class="text-xl font-semibold text-gray-800">User Management</h2>
            <button id="add-user-btn" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
              <span>+ Add User</span>
            </button>
          </div>

          <!-- Add User Form (hidden by default) -->
          <div id="add-user-form-container" class="p-6 bg-gray-50 hidden">
            <h3 class="text-lg font-medium text-gray-900 mb-4">New User Details</h3>
            <form id="add-user-form">
              <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
                <div>
                  <label for="userName" class="block text-sm font-medium text-gray-700">Full Name</label>
                  <input type="text" id="userName" name="userName" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>
                <div>
                  <label for="userEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                  <input type="email" id="userEmail" name="userEmail" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>
                <div class="sm:col-span-2">
                  <label for="userRole" class="block text-sm font-medium text-gray-700">Role</label>
                  <select id="userRole" name="userRole" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                    <!-- Role options will be populated by JS -->
                  </select>
                </div>
              </div>
              <div class="mt-6 flex justify-end">
                <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Save User</button>
              </div>
            </form>
          </div>

          <!-- User Table -->
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                </tr>
              </thead>
              <tbody id="user-table-body" class="bg-white divide-y divide-gray-200">
                <!-- User rows will be populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- HARDCODED DATA ---
      const roles = [
        { id: 1, name: 'Super Admin' },
        { id: 2, name: 'Shop Manager' },
        { id: 3, name: 'Cashier' },
      ];

      let users = [
        { id: 1, name: 'Super Admin', email: 'admin@shop.com', roleId: 1, avatar: 'https://i.pravatar.cc/150?u=1' },
        { id: 2, name: 'John Doe', email: 'john.doe@shop.com', roleId: 2, avatar: 'https://i.pravatar.cc/150?u=2' },
        { id: 3, name: 'Jane Smith', email: 'jane.smith@shop.com', roleId: 3, avatar: 'https://i.pravatar.cc/150?u=3' },
      ];
      
      let nextUserId = 4;

      // --- DOM ELEMENT REFERENCES ---
      const addUserBtn = document.getElementById('add-user-btn');
      const addUserFormContainer = document.getElementById('add-user-form-container');
      const addUserForm = document.getElementById('add-user-form');
      const userTableBody = document.getElementById('user-table-body');
      const roleSelect = document.getElementById('userRole');

      // --- HELPER FUNCTIONS ---
      const getRoleNameById = (roleId) => {
        const role = roles.find(r => r.id === parseInt(roleId));
        return role ? role.name : 'Unknown';
      };

      // --- RENDER FUNCTIONS ---
      const renderUsers = () => {
        userTableBody.innerHTML = ''; // Clear existing table rows
        users.forEach(user => {
          const roleName = getRoleNameById(user.roleId);
          const userRowHtml = `
            <tr>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="flex-shrink-0 h-10 w-10">
                    <img class="h-10 w-10 rounded-full" src="${user.avatar}" alt="">
                  </div>
                  <div class="ml-4">
                    <div class="text-sm font-medium text-gray-900">${user.name}</div>
                    <div class="text-sm text-gray-500">${user.email}</div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="text-sm text-gray-900">${roleName}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                  Active
                </span>
              </td>
            </tr>
          `;
          userTableBody.insertAdjacentHTML('beforeend', userRowHtml);
        });
      };

      const renderRoleOptions = () => {
        roleSelect.innerHTML = '';
        roles.forEach(role => {
          const option = document.createElement('option');
          option.value = role.id;
          option.textContent = role.name;
          roleSelect.appendChild(option);
        });
      };

      // --- EVENT LISTENERS ---
      addUserBtn.addEventListener('click', () => {
        const isHidden = addUserFormContainer.classList.contains('hidden');
        if (isHidden) {
          addUserFormContainer.classList.remove('hidden');
          addUserBtn.innerHTML = '<span>Cancel</span>';
        } else {
          addUserFormContainer.classList.add('hidden');
          addUserBtn.innerHTML = '<span>+ Add User</span>';
          addUserForm.reset();
        }
      });

      addUserForm.addEventListener('submit', (event) => {
        event.preventDefault();
        
        const formData = new FormData(addUserForm);
        const newUser = {
          id: nextUserId++,
          name: formData.get('userName'),
          email: formData.get('userEmail'),
          roleId: parseInt(formData.get('userRole')),
          avatar: `https://i.pravatar.cc/150?u=${nextUserId}`
        };

        users.push(newUser);
        renderUsers();
        
        // Hide and reset form
        addUserFormContainer.classList.add('hidden');
        addUserBtn.innerHTML = '<span>+ Add User</span>';
        addUserForm.reset();
      });

      // --- INITIALIZATION ---
      renderRoleOptions();
      renderUsers();
    });
  </script>

</body>
</html>
