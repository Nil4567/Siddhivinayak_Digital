<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Siddhivinayak Digital</title>
  <link rel="stylesheet" href="styles/internal.css">
  <style>
    /* Styling for the main entry page */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: var(--background);
      flex-direction: column;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    .loading-message {
      font-size: 1.5em;
      color: var(--primary);
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { opacity: 0.5; }
      50% { opacity: 1; }
      100% { opacity: 0.5; }
    }
  </style>
</head>
<body>
  <div class="loading-message">
    Redirecting to Login or Dashboard...
  </div>

  <script src="script.js"></script>
  <script>
    // This script block overrides the default behavior of checkLogin() 
    // to act as a proper gatekeeper for the home page.
    
    document.addEventListener("DOMContentLoaded", function() {
        const loggedIn = localStorage.getItem("loggedIn") === "yes";
        const BASE = "https://nil4567.github.io/Siddhivinayak_Digital";

        if (loggedIn) {
            // User is already logged in, send them directly to the dashboard
            window.location.href = `${BASE}/pages/dashboard.html`;
        } else {
            // User is NOT logged in, send them to the login page
            window.location.href = `${BASE}/pages/login.html`;
        }
    });

  </script>
</body>
</html>
